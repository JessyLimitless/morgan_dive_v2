/* ================================================================
   AX RADAR v5.3 — Market Pulse + Foreign + Sector + Institution + Accumulation + Program
   Light · Indigo Accent · Ambient Motion · Editorial Layout
   ================================================================ */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

:root{
  --f-display:'Plus Jakarta Sans','Noto Sans KR',sans-serif;
  --f-body:'Noto Sans KR','Plus Jakarta Sans',sans-serif;
  --f-mono:'JetBrains Mono','Consolas',monospace;

  --font-display:var(--f-display);
  --font-body:var(--f-body);
  --font-mono:var(--f-mono);

  /* ── Light Surfaces ── */
  --bg:#F7F8FB;
  --bg-card:#FFFFFF;
  --bg-card-2:#F2F4F8;
  --bg-hover:#EAECF3;
  --bg-active:#DDE1EC;
  --bg-page:#F7F8FB;
  --bg-article:#FFFFFF;
  --bg-table-head:#F2F4F8;
  --bg-table-alt:rgba(79,70,229,.015);

  /* ── Text ── */
  --tx-1:#1A1F2E;
  --tx-2:#4A5068;
  --tx-3:#8490A8;
  --tx-inv:#FFFFFF;
  --tx-heading:#1A1F2E;
  --tx-body:#4A5068;
  --tx-secondary:#4A5068;
  --tx-muted:#8490A8;
  --tx-inverse:#FFFFFF;

  /* ── Stock (Red up / Blue down — KRX convention) ── */
  --c-up:#DC2626;
  --c-down:#2563EB;
  --c-flat:#8490A8;

  /* ── Indigo Accent ── */
  --c-accent:#4F46E5;
  --c-accent-deep:#4338CA;
  --c-accent-light:#818CF8;
  --c-accent-bg:rgba(79,70,229,.05);
  --c-accent-bg2:rgba(79,70,229,.09);
  --c-accent-border:rgba(79,70,229,.16);
  --accent-gold:#4F46E5;
  --accent-gold-bright:#818CF8;
  --accent-gold-dim:rgba(79,70,229,.05);

  /* ── Semantic Colors ── */
  --accent-blue:#2563EB;
  --accent-red:#DC2626;
  --accent-green:#15803D;
  --accent-purple:#6D28D9;
  --accent-cyan:#0E7490;
  --accent-pink:#BE185D;

  /* ── Signal ── */
  --c-foreign:#D97706;

  /* ── Borders ── */
  --b-light:#ECEEF3;
  --b-default:#DFE2EA;
  --b-strong:#CDD1DC;
  --border:#ECEEF3;
  --border-strong:#DFE2EA;
  --border-accent:rgba(79,70,229,.16);

  /* ── Shadows ── */
  --s-sm:0 1px 2px rgba(26,31,46,.04);
  --s-md:0 2px 8px rgba(26,31,46,.06);
  --s-lg:0 4px 20px rgba(26,31,46,.08);
  --s-xl:0 12px 40px rgba(26,31,46,.10);
  --s-glow:0 0 20px rgba(79,70,229,.06);
  --s-hover:0 8px 28px rgba(79,70,229,.06),0 2px 6px rgba(26,31,46,.04);
  --shadow-sm:0 1px 2px rgba(26,31,46,.04);
  --shadow-md:0 2px 8px rgba(26,31,46,.06);
  --shadow-card:0 2px 8px rgba(26,31,46,.06),0 0 20px rgba(79,70,229,.04);
  --shadow-hover:0 8px 28px rgba(79,70,229,.06),0 2px 6px rgba(26,31,46,.04);

  --r-sm:8px;--r-md:12px;--r-lg:16px;--r-xl:20px;
  --radius-sm:8px;--radius-md:12px;--radius-lg:16px;--radius-xl:20px;
  --ease:cubic-bezier(.22,1,.36,1);
  --transition-fast:200ms cubic-bezier(.22,1,.36,1);
  --transition-normal:300ms cubic-bezier(.22,1,.36,1);
}

html{font-size:16px;scroll-behavior:smooth}
body{
  font-family:var(--f-body);background:var(--bg);color:var(--tx-1);
  line-height:1.6;letter-spacing:-.01em;padding-bottom:48px;
  -webkit-font-smoothing:antialiased;overflow-x:hidden;
}

/* ── Ambient Background ── */
body::before{
  content:'';position:fixed;inset:0;z-index:0;pointer-events:none;
  background:
    radial-gradient(ellipse 70% 50% at 15% 0%, rgba(79,70,229,.04) 0%,transparent 50%),
    radial-gradient(ellipse 60% 45% at 85% 15%,rgba(37,99,235,.03) 0%,transparent 45%),
    radial-gradient(ellipse 65% 50% at 50% 100%,rgba(79,70,229,.03) 0%,transparent 50%);
  animation:ambientShift 25s ease-in-out infinite alternate;
}
@keyframes ambientShift{
  0%{opacity:.7;transform:scale(1)}
  50%{opacity:1;transform:scale(1.02) translateY(-6px)}
  100%{opacity:.8;transform:scale(1.01) translateY(3px)}
}

::selection{background:rgba(79,70,229,.12)}
::-webkit-scrollbar{width:5px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--b-default);border-radius:3px}
.up{color:var(--c-up)}.dn{color:var(--c-down)}.fl{color:var(--c-flat)}


/* ================================================================
   HEADER
   ================================================================ */
.header{
  position:sticky;top:0;z-index:100;
  display:flex;align-items:center;justify-content:space-between;
  padding:0 36px;height:64px;
  background:rgba(247,248,251,.92);
  border-bottom:1px solid var(--b-light);
  box-shadow:0 1px 0 rgba(79,70,229,.04),0 4px 16px rgba(26,31,46,.03);
  backdrop-filter:blur(20px) saturate(1.2);
}
.header__brand{display:flex;align-items:center;gap:10px}
.header__brand h1{
  font-family:var(--f-display);font-size:1.25rem;font-weight:800;
  letter-spacing:-.4px;
  background:linear-gradient(135deg,var(--tx-1) 40%,var(--c-accent));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}
.header__brand .ver{
  font-family:var(--f-mono);font-size:.68rem;font-weight:600;
  color:var(--c-accent);background:var(--c-accent-bg);
  border:1px solid var(--c-accent-border);
  padding:2px 7px;border-radius:4px;letter-spacing:.5px;
}
.header__nav{display:flex;gap:2px}
.nav-link{
  font-family:var(--f-display);font-size:.84rem;font-weight:600;
  color:var(--tx-3);text-decoration:none;
  padding:8px 18px;border-radius:var(--r-sm);
  transition:all .2s var(--ease);cursor:pointer;
  display:inline-flex;align-items:center;gap:7px;
}
.nav-link::before{
  content:'';display:inline-block;width:6px;height:6px;border-radius:50%;
  flex-shrink:0;opacity:.5;transition:opacity .2s;
}
.nav-link[data-target="radar"]::before{background:#2563EB}
.nav-link:hover{color:var(--tx-2);background:var(--c-accent-bg)}
.nav-link:hover::before{opacity:.8}
.nav-link.active{color:var(--c-accent);background:var(--c-accent-bg);font-weight:700}
.nav-link.active::before{opacity:1}
.header__right{display:flex;align-items:center;gap:16px}
.live-dot{
  display:inline-flex;align-items:center;gap:6px;
  font-family:var(--f-mono);font-size:11px;font-weight:700;
  text-transform:uppercase;letter-spacing:1px;
}
.live-dot.on{color:#059669}
.live-dot.off{color:var(--c-up)}
.live-dot.on::before{
  content:'';width:6px;height:6px;background:#059669;border-radius:50%;
  box-shadow:0 0 6px rgba(5,150,105,.4);
  animation:pulse 2s ease-in-out infinite;
}
.live-dot.off::before{
  content:'';width:6px;height:6px;background:var(--c-up);border-radius:50%;
  animation:pulseOff 2s ease-in-out infinite;
}
@keyframes pulse{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.3);opacity:.5}}
@keyframes pulseOff{0%,100%{opacity:1}50%{opacity:.35}}
.header__clock{font-family:var(--f-mono);font-size:.84rem;color:var(--tx-3);font-variant-numeric:tabular-nums}


/* ================================================================
   LAYOUT — Full Width
   ================================================================ */
.content{position:relative;z-index:1;padding:0 36px}
.data-grid{max-width:1600px;margin:0 auto}

/* ── Section System ── */
.sec-label{
  display:flex;align-items:center;gap:14px;
  margin-bottom:24px;
}
.sec-tag{
  font-family:var(--f-mono);font-size:11px;font-weight:800;
  color:var(--c-accent);text-transform:uppercase;letter-spacing:2.5px;
  display:flex;align-items:center;gap:8px;
  white-space:nowrap;
}
.sec-tag::before{
  content:'';width:6px;height:6px;
  background:var(--c-accent);border-radius:2px;
  transform:rotate(45deg);flex-shrink:0;
}
.sec-line{flex:1;height:1px;background:linear-gradient(90deg,var(--b-default),transparent)}


/* ================================================================
   MARKET PULSE — Hero Ticker Strip
   ================================================================ */
.pulse-hero{padding:24px 0 8px}
.pulse-strip{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.idx-hero{
  background:var(--bg-card);border:1px solid var(--b-light);
  border-radius:var(--r-lg);padding:20px 24px 18px;
  transition:all .35s var(--ease);animation:fadeUp .4s var(--ease) backwards;
  position:relative;overflow:hidden;
}
.idx-hero::before{
  content:'';position:absolute;top:0;left:0;right:0;height:2px;
  background:linear-gradient(90deg,transparent,rgba(79,70,229,.12),rgba(79,70,229,.22),rgba(79,70,229,.12),transparent);
  background-size:200% 100%;animation:flowLine 4s ease-in-out infinite;
}
.idx-hero::after{
  content:'';position:absolute;bottom:0;left:20%;right:20%;height:3px;
  border-radius:3px 3px 0 0;transition:all .4s var(--ease);opacity:0;
}
.idx-hero.state-up::after{background:var(--c-up);opacity:.35}
.idx-hero.state-dn::after{background:var(--c-down);opacity:.35}
.idx-hero:hover{box-shadow:var(--s-hover);border-color:rgba(79,70,229,.1);transform:translateY(-2px)}
.idx-hero:hover::after{left:10%;right:10%;opacity:.5}

.idx-hero__top{
  display:flex;align-items:center;gap:8px;margin-bottom:10px;
}
.idx-flag{font-style:normal;font-size:16px}
.idx-hero__name{
  font-family:var(--f-mono);font-size:11px;font-weight:800;
  color:var(--tx-3);text-transform:uppercase;letter-spacing:2px;
}
.idx-hero__val{
  font-family:var(--f-mono);font-size:1.85rem;font-weight:800;
  color:var(--tx-1);margin-bottom:8px;font-variant-numeric:tabular-nums;
  letter-spacing:-.5px;line-height:1;
}
.idx-hero.state-up .idx-hero__val{color:var(--c-up)}
.idx-hero.state-dn .idx-hero__val{color:var(--c-down)}

.idx-hero__bot{display:flex;align-items:center;gap:8px}
.idx-hero__chg{
  font-family:var(--f-mono);font-size:.82rem;font-weight:700;
  font-variant-numeric:tabular-nums;
}
.idx-hero__pct{
  font-family:var(--f-mono);font-size:.78rem;font-weight:700;
  font-variant-numeric:tabular-nums;
  padding:3px 10px;border-radius:6px;
  transition:background .3s var(--ease);
}
.idx-hero__pct.up{background:rgba(220,38,38,.07);color:var(--c-up)}
.idx-hero__pct.dn{background:rgba(37,99,235,.07);color:var(--c-down)}
.idx-hero__pct.fl{background:var(--bg-card-2);color:var(--tx-3)}


/* ================================================================
   CARD — Shared card style
   ================================================================ */
.flow-sec{padding:18px 0 30px}

.card{
  background:var(--bg-card);border:1px solid var(--b-light);
  border-radius:var(--r-lg);overflow:hidden;
  transition:all .3s var(--ease);animation:fadeUp .45s var(--ease) backwards;
  position:relative;
}
.card::before{
  content:'';position:absolute;top:0;left:0;right:0;height:2px;
  background:linear-gradient(90deg,transparent,rgba(79,70,229,.12),rgba(79,70,229,.22),rgba(79,70,229,.12),transparent);
  background-size:200% 100%;animation:flowLine 4s ease-in-out infinite;
}
@keyframes flowLine{0%{background-position:-100% 0}100%{background-position:200% 0}}
.card:hover{box-shadow:var(--s-hover);border-color:rgba(79,70,229,.1)}
.card__head{
  display:flex;align-items:center;justify-content:space-between;
  padding:18px 26px 16px;border-bottom:1px solid var(--b-light);
}
.card__title{font-family:var(--f-mono);font-size:11px;font-weight:700;color:var(--tx-3);text-transform:uppercase;letter-spacing:1.8px}
.card__sub{font-family:var(--f-mono);font-size:.74rem;color:var(--tx-3);background:var(--bg-card-2);padding:4px 10px;border-radius:4px;border:1px solid var(--b-light)}
.card__body{padding:18px 26px}

/* Foreign */
.foreign-grid{display:grid;grid-template-columns:1fr 1fr;gap:28px}
.foreign-hd{display:flex;align-items:center;justify-content:space-between;font-family:var(--f-mono);font-size:11px;font-weight:800;text-transform:uppercase;letter-spacing:1.5px;padding-bottom:10px;margin-bottom:8px;border-bottom:2px solid}
.foreign-hd.buy{color:var(--c-up);border-color:rgba(220,38,38,.15)}
.foreign-hd.sell{color:var(--c-down);border-color:rgba(37,99,235,.15)}
.foreign-hd .fc-cnt{font-size:10px;font-weight:600;opacity:.5}
.foreign-list{max-height:680px;overflow-y:auto;scrollbar-width:thin}
.fi-item{display:flex;align-items:center;gap:10px;padding:10px 8px;border-bottom:1px solid var(--b-light);cursor:pointer;transition:all .2s var(--ease);border-radius:6px}
.fi-item:last-child{border-bottom:none}
.fi-item:hover{background:var(--c-accent-bg);margin:0 -6px;padding:8px 12px;transform:translateX(2px)}
.fi-rk{font-family:var(--f-mono);font-size:12px;font-weight:700;color:var(--tx-3);min-width:24px;text-align:center;font-variant-numeric:tabular-nums}
.fi-rk-1{color:var(--c-up);font-weight:800}
.fi-rk-2{color:var(--c-foreign);font-weight:800}
.fi-rk-3{color:var(--c-accent);font-weight:800}
.fi-nm{flex-shrink:0;max-width:120px;font-size:.88rem;font-weight:600;color:var(--tx-1);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.fi-bar-wrap{flex:1;height:10px;border-radius:5px;overflow:hidden;min-width:20px;background:transparent}
.fi-fill{height:100%;border-radius:5px;transition:width .6s ease-out}
.fi-amt{font-family:var(--f-mono);font-size:.84rem;font-weight:700;text-align:right;min-width:58px;font-variant-numeric:tabular-nums;flex-shrink:0}
.fi-amt.buy{color:var(--c-up)}.fi-amt.sell{color:var(--c-down)}
.fi-chg{font-family:var(--f-mono);font-size:.72rem;font-weight:600;text-align:right;min-width:48px;font-variant-numeric:tabular-nums;flex-shrink:0}

/* ================================================================
   SECTOR FLOW — Diverging Bar Chart
   ================================================================ */
.sector-chart{padding:8px 0 4px}
.sector-row{
  display:flex;align-items:center;gap:0;
  padding:7px 0;border-bottom:1px solid var(--b-light);
  transition:background .15s var(--ease);
}
.sector-row:last-child{border-bottom:none}
.sector-row:hover{background:var(--c-accent-bg)}
.sector-nm{
  width:80px;flex-shrink:0;text-align:right;padding-right:12px;
  font-family:var(--f-body);font-size:.82rem;font-weight:600;
  color:var(--tx-1);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
}
.sector-bar-wrap{
  flex:1;display:flex;align-items:center;gap:0;
  position:relative;height:24px;
}
.sector-bar-left{
  flex:1;display:flex;justify-content:flex-end;align-items:center;
  height:100%;position:relative;
}
.sector-bar-right{
  flex:1;display:flex;justify-content:flex-start;align-items:center;
  height:100%;position:relative;
}
.sector-axis{
  width:1px;height:28px;background:var(--tx-3);opacity:.25;flex-shrink:0;
}
.sector-bar{
  height:18px;border-radius:3px;
  min-width:2px;
  transition:width .6s cubic-bezier(.22,1,.36,1);
}
.sector-bar.buy{
  background:linear-gradient(90deg,rgba(220,38,38,.15),rgba(220,38,38,.55));
  margin-left:4px;
}
.sector-bar.sell{
  background:linear-gradient(270deg,rgba(37,99,235,.15),rgba(37,99,235,.55));
  margin-right:4px;
}
.sector-amt{
  width:76px;flex-shrink:0;text-align:right;padding-left:8px;
  font-family:var(--f-mono);font-size:.78rem;font-weight:700;
  font-variant-numeric:tabular-nums;
}
.sector-amt.buy{color:var(--c-up)}
.sector-amt.sell{color:var(--c-down)}
.sector-amt.zero{color:var(--tx-3)}
.sector-header-row{
  display:flex;align-items:center;gap:0;
  padding:0 0 8px;margin-bottom:4px;
  border-bottom:2px solid var(--b-default);
}
.sector-header-row .sector-nm{
  font-family:var(--f-mono);font-size:10px;font-weight:700;
  color:var(--tx-3);text-transform:uppercase;letter-spacing:1px;
}
.sector-header-row .sector-bar-wrap{
  font-family:var(--f-mono);font-size:10px;font-weight:700;
  color:var(--tx-3);text-transform:uppercase;letter-spacing:1px;
  display:flex;justify-content:center;
}
.sector-header-row .sector-bar-left{justify-content:center}
.sector-header-row .sector-bar-right{justify-content:center}
.sector-header-row .sector-amt{
  font-size:10px;font-weight:700;color:var(--tx-3);
  text-transform:uppercase;letter-spacing:1px;
}

@media(max-width:768px){
  .sector-nm{width:64px;font-size:.76rem}
  .sector-amt{width:64px;font-size:.72rem}
}

/* ── Sector Tabs ── */
.sector-tabs{display:flex;gap:2px;background:var(--bg-card-2);border-radius:6px;padding:2px}
.sector-tab{
  font-family:var(--f-mono);font-size:11px;font-weight:700;
  text-transform:uppercase;letter-spacing:1px;
  padding:6px 16px;border-radius:5px;border:none;
  background:transparent;color:var(--tx-3);cursor:pointer;
  transition:all .2s var(--ease);
}
.sector-tab:hover{color:var(--tx-2)}
.sector-tab.active{background:var(--bg-card);color:var(--c-accent);box-shadow:var(--s-sm)}



/* ================================================================
   IB CARDS — Institution Desk
   ================================================================ */
.ib-section{padding-bottom:30px}
.ib-cols{display:grid;grid-template-columns:repeat(3,1fr);gap:0}
.ib-col{padding:22px 26px}
.ib-col:not(:last-child){border-right:1px solid var(--b-light)}
.ib-col-hd{display:flex;align-items:center;gap:10px;margin-bottom:14px}
.ib-col-logo{width:36px;height:36px;border-radius:var(--r-sm);display:flex;align-items:center;justify-content:center;font-family:var(--f-display);font-size:13px;font-weight:800;flex-shrink:0}
.ib-col-logo.ms{background:rgba(37,99,235,.07);color:#2563EB;border:1px solid rgba(37,99,235,.12)}
.ib-col-logo.jp{background:rgba(99,102,241,.07);color:#6366F1;border:1px solid rgba(99,102,241,.12)}
.ib-col-logo.gs{background:var(--c-accent-bg2);color:var(--c-accent);border:1px solid var(--c-accent-border)}
.ib-col-nm{font-family:var(--f-display);font-size:.9rem;font-weight:700;color:var(--tx-1)}
.ib-col-cd{font-family:var(--f-mono);font-size:.68rem;color:var(--tx-3);letter-spacing:.5px}
.ib-col-list{list-style:none}

/* ── IB Sub Header (BUY / SELL divider) ── */
.ib-sub-hd{
  font-family:var(--f-mono);font-size:10px;font-weight:800;
  text-transform:uppercase;letter-spacing:1.8px;
  padding:10px 6px 8px;margin-top:4px;
  border-bottom:2px solid;display:flex;align-items:center;gap:6px;
}
.ib-sub-hd.buy{color:var(--c-up);border-color:rgba(220,38,38,.15)}
.ib-sub-hd.sell{color:var(--c-down);border-color:rgba(37,99,235,.15);margin-top:0}

/* ── Sell Toggle Button ── */
.sell-toggle-btn{
  display:flex;align-items:center;justify-content:center;gap:6px;
  width:100%;margin-top:16px;padding:10px 0;
  background:rgba(37,99,235,.04);border:1px solid rgba(37,99,235,.12);
  border-radius:var(--r-sm);cursor:pointer;
  font-family:var(--f-mono);font-size:11px;font-weight:700;
  color:var(--c-down);text-transform:uppercase;letter-spacing:1.2px;
  transition:all .2s var(--ease);
}
.sell-toggle-btn:hover{
  background:rgba(37,99,235,.08);border-color:rgba(37,99,235,.22);
  box-shadow:0 2px 8px rgba(37,99,235,.08);
}
.sell-toggle-btn .arrow{
  display:inline-block;font-size:10px;transition:transform .2s var(--ease);
}

/* ── Sell Popup Overlay ── */
.sell-popup-overlay{
  position:fixed;inset:0;
  background:rgba(26,31,46,.22);
  display:flex;align-items:center;justify-content:center;
  z-index:1000;opacity:0;pointer-events:none;
  transition:opacity .25s var(--ease);
  backdrop-filter:blur(4px);
}
.sell-popup-overlay.on{opacity:1;pointer-events:auto}
.sell-popup{
  background:var(--bg-card);border:1px solid var(--b-light);
  border-radius:var(--r-xl);
  box-shadow:var(--s-xl),0 0 40px rgba(37,99,235,.06);
  width:480px;max-width:92vw;max-height:82vh;
  overflow:hidden;
  animation:sellPopIn .3s var(--ease);
  position:relative;
}
@keyframes sellPopIn{from{opacity:0;transform:scale(.96) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}
.sell-popup::before{
  content:'';position:absolute;top:0;left:0;right:0;height:2px;
  background:linear-gradient(90deg,transparent,rgba(37,99,235,.2),rgba(37,99,235,.35),rgba(37,99,235,.2),transparent);
  border-radius:var(--r-xl) var(--r-xl) 0 0;
}
.sell-popup__head{
  display:flex;align-items:center;justify-content:space-between;
  padding:20px 26px 16px;border-bottom:1px solid var(--b-light);
}
.sell-popup__title{
  display:flex;align-items:center;gap:10px;
}
.sell-popup__logo{
  width:32px;height:32px;border-radius:var(--r-sm);
  display:flex;align-items:center;justify-content:center;
  font-family:var(--f-display);font-size:12px;font-weight:800;flex-shrink:0;
}
.sell-popup__logo.ms{background:rgba(37,99,235,.07);color:#2563EB;border:1px solid rgba(37,99,235,.12)}
.sell-popup__logo.jp{background:rgba(99,102,241,.07);color:#6366F1;border:1px solid rgba(99,102,241,.12)}
.sell-popup__logo.gs{background:var(--c-accent-bg2);color:var(--c-accent);border:1px solid var(--c-accent-border)}
.sell-popup__nm{font-family:var(--f-display);font-size:.92rem;font-weight:700;color:var(--tx-1)}
.sell-popup__tag{
  font-family:var(--f-mono);font-size:10px;font-weight:800;
  color:var(--c-down);text-transform:uppercase;letter-spacing:1.5px;
  background:rgba(37,99,235,.06);border:1px solid rgba(37,99,235,.12);
  padding:3px 10px;border-radius:4px;
}
.sell-popup__close{
  width:32px;height:32px;display:flex;align-items:center;justify-content:center;
  border-radius:6px;border:1px solid var(--b-default);
  background:transparent;color:var(--tx-3);cursor:pointer;
  font-size:1.1rem;transition:all .15s var(--ease);
}
.sell-popup__close:hover{background:var(--bg-hover);color:var(--tx-1);border-color:var(--b-strong)}
.sell-popup__body{
  padding:6px 22px 22px;
  max-height:calc(82vh - 70px);overflow-y:auto;
  scrollbar-width:thin;
}

.is-item{padding:12px 6px;border-bottom:1px solid var(--b-light);cursor:pointer;transition:all .2s var(--ease);border-radius:6px}
.is-item:last-child{border-bottom:none}
.is-item:hover{background:var(--c-accent-bg)}
.is-top{display:flex;align-items:center;gap:8px}
.is-rk{font-family:var(--f-mono);font-size:13px;font-weight:700;color:var(--tx-3);min-width:24px;text-align:center;font-variant-numeric:tabular-nums}
.is-nm{flex:1;min-width:0;font-size:.9rem;font-weight:600;color:var(--tx-1);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.is-sc{font-family:var(--f-mono);font-size:.78rem;font-weight:700;padding:3px 8px;border-radius:4px;font-variant-numeric:tabular-nums}
.is-bot{display:flex;align-items:center;gap:10px;margin-top:6px;padding-left:32px}
.is-bar{flex:1;height:6px;background:var(--b-light);border-radius:3px;overflow:hidden}
.is-fill{height:100%;border-radius:3px;transition:width .6s ease-out}
.is-amt{font-family:var(--f-mono);font-size:.78rem;font-weight:600;color:var(--tx-2);min-width:48px;text-align:right;font-variant-numeric:tabular-nums}
.is-chg{font-family:var(--f-mono);font-size:.76rem;font-weight:600;min-width:44px;text-align:right;font-variant-numeric:tabular-nums}




/* ================================================================
   MODAL
   ================================================================ */
.modal-overlay{position:fixed;inset:0;background:rgba(26,31,46,.25);display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;pointer-events:none;transition:opacity .25s;backdrop-filter:blur(6px)}
.modal-overlay.on{opacity:1;pointer-events:auto}
.modal-box{background:var(--bg-card);border:1px solid var(--b-light);border-radius:var(--r-xl);box-shadow:var(--s-xl),var(--s-glow);width:500px;max-width:92vw;max-height:85vh;overflow-y:auto;padding:30px 34px;animation:modalIn .3s var(--ease);position:relative}
.modal-box::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,var(--c-accent-light),var(--c-accent),var(--c-accent-light),transparent);border-radius:var(--r-xl) var(--r-xl) 0 0}
@keyframes modalIn{from{opacity:0;transform:scale(.97) translateY(8px)}to{opacity:1;transform:scale(1) translateY(0)}}
.mo-hd{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:14px}
.mo-nm{font-family:var(--f-display);font-size:1.2rem;font-weight:700;color:var(--tx-1)}
.mo-cd{font-family:var(--f-mono);font-size:.78rem;color:var(--tx-3);margin-top:3px}
.mo-x{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:6px;border:1px solid var(--b-default);background:transparent;color:var(--tx-3);cursor:pointer;font-size:1.1rem;transition:all .15s var(--ease)}
.mo-x:hover{background:var(--bg-hover);color:var(--tx-1);border-color:var(--b-strong)}
.mo-div{height:1px;background:var(--b-light);margin-bottom:14px}
.mo-prc-row{display:flex;align-items:baseline;gap:12px;margin-bottom:18px}
.mo-prc{font-family:var(--f-mono);font-size:1.6rem;font-weight:800;color:var(--tx-1)}
.mo-prc-chg{font-family:var(--f-mono);font-size:.95rem;font-weight:600}
.mo-grid{display:grid;grid-template-columns:1fr 1fr;gap:5px 24px}
.mo-f{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid var(--b-light)}
.mo-fl{font-family:var(--f-mono);font-size:.78rem;color:var(--tx-3)}
.mo-fv{font-family:var(--f-mono);font-size:.9rem;font-weight:600;color:var(--tx-1)}
.mo-loading{text-align:center;padding:36px 0;color:var(--tx-3);font-size:.82rem;font-family:var(--f-mono)}
.err-txt{color:var(--c-up);font-size:.8rem;text-align:center;padding:20px;font-family:var(--f-mono)}
.empty-txt{color:var(--tx-3);font-size:.8rem;text-align:center;padding:20px;font-family:var(--f-mono)}
.no-data{color:var(--tx-3);font-size:.78rem;text-align:center;padding:16px 12px;font-family:var(--f-mono);background:var(--bg-card-2);border:1px dashed var(--b-default);border-radius:var(--r-sm);letter-spacing:.3px}


/* ================================================================
   WATERMARK
   ================================================================ */
.watermark{position:fixed;bottom:16px;right:20px;display:flex;align-items:center;gap:6px;padding:6px 12px;background:rgba(255,255,255,.9);border:1px solid var(--b-light);border-radius:6px;box-shadow:var(--s-sm);font-family:var(--f-display);font-size:12px;font-weight:700;color:var(--tx-3);z-index:50;backdrop-filter:blur(8px)}
.wm-icon{width:18px;height:18px;background:linear-gradient(135deg,var(--c-accent-deep),var(--c-accent));color:white;border-radius:3px;display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:800}


/* ================================================================
   SPLASH LOADER — Full-screen intro
   ================================================================ */
.splash{
  position:fixed;inset:0;z-index:9999;
  display:flex;align-items:center;justify-content:center;
  background:linear-gradient(135deg,#0F172A 0%,#1E293B 50%,#0F172A 100%);
  transition:opacity .6s cubic-bezier(.22,1,.36,1),visibility .6s;
}
.splash.fade-out{opacity:0;visibility:hidden;pointer-events:none}
.splash__inner{text-align:center;animation:splashIn .6s var(--ease) backwards}
@keyframes splashIn{from{opacity:0;transform:scale(.95) translateY(10px)}}
.splash__logo{
  width:56px;height:56px;margin:0 auto 16px;
  background:linear-gradient(135deg,#10B981,#059669);
  border-radius:14px;display:flex;align-items:center;justify-content:center;
  font-family:'Plus Jakarta Sans',sans-serif;font-size:20px;font-weight:800;color:#fff;
  box-shadow:0 8px 32px rgba(16,185,129,.25);
  animation:logoPulse 2s ease-in-out infinite;
}
@keyframes logoPulse{0%,100%{box-shadow:0 8px 32px rgba(16,185,129,.25)}50%{box-shadow:0 8px 40px rgba(16,185,129,.4)}}
.splash__title{
  font-family:'Plus Jakarta Sans',sans-serif;font-size:1.4rem;font-weight:800;
  letter-spacing:-.5px;color:#F1F5F9;margin-bottom:28px;
}
.splash__spinner{
  width:32px;height:32px;margin:0 auto 18px;border-radius:50%;
  border:3px solid rgba(255,255,255,.08);border-top-color:#10B981;
  animation:spin .7s linear infinite;
}
.splash__status{
  font-family:'JetBrains Mono',monospace;font-size:.72rem;
  color:#64748B;letter-spacing:.5px;
  animation:statusBlink 1.5s ease-in-out infinite;
}
@keyframes statusBlink{0%,100%{opacity:1}50%{opacity:.4}}

/* ================================================================
   LOADING SPINNER
   ================================================================ */
.loading-wrap{display:flex;align-items:center;justify-content:center;gap:10px;padding:36px 0}
.loading-wrap--dark{padding:36px 0}
.spinner{
  width:20px;height:20px;border-radius:50%;
  border:2.5px solid var(--b-default);border-top-color:var(--c-accent);
  animation:spin .7s linear infinite;flex-shrink:0;
}
.spinner--dark{border-color:rgba(255,255,255,.1);border-top-color:#10B981}
.spinner--sm{width:16px;height:16px;border-width:2px}
.loading-txt{font-family:var(--f-mono);font-size:.78rem;color:var(--tx-3);letter-spacing:.5px}
.loading-txt--dark{color:#64748B}
@keyframes spin{to{transform:rotate(360deg)}}

/* ================================================================
   ANIMATIONS
   ================================================================ */
@keyframes fadeUp{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}
@keyframes gaugeGrow{from{width:0}}
.flash-up{animation:flashR .5s ease}
.flash-down{animation:flashB .5s ease}
@keyframes flashR{0%,100%{background:transparent}30%{background:rgba(220,38,38,.05)}}
@keyframes flashB{0%,100%{background:transparent}30%{background:rgba(37,99,235,.05)}}


/* ================================================================
   DATA GUIDE — Slide-Down Panels
   ================================================================ */
.guide-btn{
  display:inline-flex;align-items:center;justify-content:center;
  width:20px;height:20px;border-radius:50%;
  background:var(--c-accent-bg2);border:1px solid var(--c-accent-border);
  color:var(--c-accent);font-family:var(--f-mono);font-size:10px;font-weight:700;
  cursor:pointer;transition:all .2s var(--ease);
  margin-left:6px;flex-shrink:0;line-height:1;
  opacity:.55;vertical-align:middle;
}
.guide-btn:hover{opacity:1;background:var(--c-accent);color:var(--tx-inv);transform:scale(1.1);box-shadow:0 0 8px rgba(79,70,229,.25)}
.guide-panel{
  max-height:0;overflow:hidden;opacity:0;
  transition:max-height .4s var(--ease),opacity .3s var(--ease),margin .3s var(--ease);
  margin:0;
}
.guide-panel.open{
  max-height:600px;opacity:1;margin:14px 0 6px;
}
.guide-inner{
  background:var(--bg-card-2);border-left:3px solid var(--c-accent);
  border-radius:0 var(--r-sm) var(--r-sm) 0;
  padding:18px 22px;
}
.guide-title{
  font-family:var(--f-mono);font-size:10px;font-weight:700;
  color:var(--c-accent);text-transform:uppercase;letter-spacing:1.5px;
  margin-bottom:8px;
}
.guide-text{
  font-family:var(--f-body);font-size:13px;color:var(--tx-2);
  line-height:1.8;word-break:keep-all;
}
.guide-text p{margin-bottom:8px}
.guide-text p:last-child{margin-bottom:0}
.guide-formula{
  display:inline;font-family:var(--f-mono);font-size:12px;font-weight:600;
  background:rgba(79,70,229,.06);color:var(--c-accent-deep);
  padding:2px 6px;border-radius:3px;
}
.guide-text ul{margin:6px 0 8px 16px;padding:0}
.guide-text li{margin-bottom:4px;font-size:12.5px}
.guide-text strong{color:var(--tx-1);font-weight:700}

/* ================================================================
   STEALTH ACCUMULATION ZONE
   ================================================================ */
.stealth-zone{
  background:linear-gradient(135deg,#0F172A 0%,#1E293B 100%);
  border-radius:var(--r-lg);padding:26px;
  position:relative;overflow:hidden;
  animation:fadeUp .45s var(--ease) backwards;
  transition:all .35s var(--ease);
}
.stealth-zone::before{
  content:'';position:absolute;top:0;left:0;right:0;height:2px;
  background:linear-gradient(90deg,transparent,rgba(16,185,129,.2),rgba(16,185,129,.35),rgba(16,185,129,.2),transparent);
  background-size:200% 100%;animation:flowLine 4s ease-in-out infinite;
}
.stealth-zone:hover{box-shadow:0 8px 32px rgba(16,185,129,.08),0 2px 8px rgba(26,31,46,.06);transform:translateY(-1px)}
.stealth-zone .sec-tag{color:#10B981}
.stealth-zone .sec-line{background:rgba(16,185,129,.18)}
.stealth-zone .card__head{
  padding:0 0 16px;margin-bottom:20px;
  border-bottom:1px solid rgba(255,255,255,.08);
}
.stealth-zone .card__title{color:#F1F5F9}
.stealth-zone .card__sub{color:#94A3B8;background:rgba(255,255,255,.04);border-color:rgba(255,255,255,.08)}
.stealth-zone .guide-btn{background:rgba(16,185,129,.2);border-color:rgba(16,185,129,.35);color:#10B981;opacity:1;width:22px;height:22px;font-size:11px}
.stealth-zone .guide-btn:hover{background:#10B981;color:#0F172A}
.stealth-zone .guide-inner{background:rgba(255,255,255,.04);border-left-color:#10B981}
.stealth-zone .guide-title{color:#10B981}
.stealth-zone .guide-text{color:#94A3B8}
.stealth-zone .guide-text strong{color:#E2E8F0}
.stealth-zone .guide-formula{background:rgba(16,185,129,.1);color:#10B981}

/* ── Top 5 Cards ── */
.accum-cards{display:grid;grid-template-columns:repeat(5,1fr);gap:14px;margin-bottom:28px}
.accum-card{
  background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);
  border-radius:var(--r-md);padding:16px;cursor:pointer;
  transition:all .25s var(--ease);position:relative;overflow:hidden;
}
.accum-card:hover{background:rgba(255,255,255,.07);border-color:rgba(16,185,129,.25);transform:translateY(-2px)}
.accum-card[data-grade="S"]{border-color:rgba(245,158,11,.25)}
.accum-card[data-grade="S"]:hover{border-color:rgba(245,158,11,.45);box-shadow:0 4px 20px rgba(245,158,11,.1)}

.accum-card__hd{display:flex;align-items:center;gap:8px;margin-bottom:10px}
.accum-grade{
  font-family:var(--f-mono);font-size:11px;font-weight:800;
  padding:2px 8px;border-radius:4px;letter-spacing:.5px;
}
.accum-grade.grade-s{background:rgba(245,158,11,.15);color:#F59E0B}
.accum-grade.grade-a{background:rgba(16,185,129,.15);color:#10B981}
.accum-grade.grade-b{background:rgba(59,130,246,.15);color:#3B82F6}
.accum-grade.grade-c{background:rgba(107,114,128,.15);color:#6B7280}
.accum-grade.grade-d{background:rgba(107,114,128,.1);color:#4B5563}
.accum-card__nm{font-family:var(--f-body);font-size:.82rem;font-weight:600;color:#E2E8F0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}

.accum-card__score{font-family:var(--f-mono);font-size:1.6rem;font-weight:800;color:#F1F5F9;margin-bottom:4px;font-variant-numeric:tabular-nums}
.accum-card__score-lbl{font-family:var(--f-mono);font-size:.65rem;color:#64748B;text-transform:uppercase;letter-spacing:1px;margin-bottom:10px}

.accum-sparkline{display:block;width:100%;height:36px;margin-bottom:10px}
.accum-sparkline polyline{fill:none;stroke:#10B981;stroke-width:1.5;stroke-linejoin:round;stroke-linecap:round}
.accum-sparkline polygon{fill:rgba(16,185,129,0.1);stroke:none}
.mini-spark{display:inline-block;width:80px;height:24px;vertical-align:middle}
.mini-spark polyline{fill:none;stroke:#10B981;stroke-width:1;stroke-linejoin:round;stroke-linecap:round}
.mini-spark polygon{fill:rgba(16,185,129,0.08);stroke:none}

.accum-card__chg{display:flex;gap:12px;font-family:var(--f-mono);font-size:.72rem;margin-bottom:8px;font-variant-numeric:tabular-nums}
.accum-card__chg .lbl{color:#64748B;margin-right:2px}
.accum-card__chg .pos{color:#10B981}
.accum-card__chg .neg{color:#EF4444}

.accum-signal{
  font-family:var(--f-mono);font-size:.62rem;font-weight:700;
  text-transform:uppercase;letter-spacing:1px;
  padding:3px 8px;border-radius:3px;display:inline-block;
}
.accum-signal.stealth_conviction{background:rgba(245,158,11,.12);color:#F59E0B}
.accum-signal.active_accumulation{background:rgba(16,185,129,.12);color:#10B981}
.accum-signal.building_position{background:rgba(59,130,246,.12);color:#3B82F6}
.accum-signal.watching{background:rgba(107,114,128,.1);color:#6B7280}

/* ── Full Table ── */
.accum-tbl-wrap{overflow-x:auto}
.accum-tbl{width:100%;border-collapse:collapse;font-size:.82rem}
.accum-tbl th{
  font-family:var(--f-display);font-size:.68rem;font-weight:700;
  color:#64748B;text-transform:uppercase;letter-spacing:1px;
  padding:13px 12px;border-bottom:1px solid rgba(255,255,255,.08);
  text-align:left;white-space:nowrap;
}
.accum-tbl td{
  padding:13px 12px;border-bottom:1px solid rgba(255,255,255,.04);
  color:#CBD5E1;font-family:var(--f-mono);white-space:nowrap;
  vertical-align:middle;font-variant-numeric:tabular-nums;
}
.accum-tbl tr:last-child td{border-bottom:none}
.accum-tbl tr:nth-child(even) td{background:rgba(255,255,255,.015)}
.accum-tbl tr:hover td{background:rgba(255,255,255,.05);cursor:pointer}
.accum-tbl .tbl-nm{font-family:var(--f-body);font-weight:500;color:#E2E8F0;cursor:pointer}
.accum-tbl .tbl-nm:hover{color:#10B981}
.accum-tbl .tbl-score{font-weight:700;color:#F1F5F9}
.accum-tbl .tbl-pos{color:#10B981}
.accum-tbl .tbl-neg{color:#EF4444}
.accum-tbl .tbl-zero{color:#64748B}

.stealth-empty{color:#64748B;text-align:center;padding:40px 0;font-family:var(--f-mono);font-size:.85rem}

/* ================================================================
   PROGRAM TRADING TOP
   ================================================================ */
.prog-tbl-wrap{overflow-x:auto}
.prog-tbl{width:100%;border-collapse:collapse;font-size:.82rem}
.prog-tbl thead{background:var(--bg-table-head)}
.prog-tbl th{
  font-family:var(--f-display);font-size:.68rem;font-weight:700;
  color:var(--tx-secondary);text-transform:uppercase;letter-spacing:1px;
  padding:13px 18px;border-bottom:2px solid var(--border-strong);
  text-align:left;white-space:nowrap;
}
.prog-tbl td{
  padding:13px 18px;border-bottom:1px solid var(--border);
  white-space:nowrap;vertical-align:middle;color:var(--tx-body);
}
.prog-tbl tr:last-child td{border-bottom:none}
.prog-tbl tr{cursor:pointer;transition:background .15s}
.prog-tbl tr:nth-child(even){background:var(--bg-table-alt)}
.prog-tbl tr:hover{background:rgba(79,70,229,.02)}
.prog-tbl .p-nm{font-weight:600;color:var(--tx-1)}
.prog-tbl .p-prc{font-family:var(--f-mono);color:var(--tx-2);font-variant-numeric:tabular-nums}
.prog-tbl .p-net{font-family:var(--f-mono);font-weight:600;font-variant-numeric:tabular-nums}
.prog-tbl .p-net.buy{color:var(--c-up)}
.prog-tbl .p-net.sell{color:var(--c-down)}
.prog-tbl .p-mkt{
  font-family:var(--f-mono);font-size:.65rem;font-weight:600;padding:2px 6px;border-radius:3px;
  letter-spacing:.3px;
}
.prog-tbl .p-mkt.kospi{background:rgba(79,70,229,.08);color:var(--c-accent)}
.prog-tbl .p-mkt.kosdaq{background:rgba(220,38,38,.06);color:#B91C1C}
.prog-toggle{
  display:block;width:100%;margin-top:14px;padding:10px;
  background:var(--bg-card-2);border:1px solid var(--b-light);border-radius:var(--r-sm);
  font-family:var(--f-mono);font-size:.78rem;font-weight:600;color:var(--tx-3);
  cursor:pointer;transition:all .2s var(--ease);text-align:center;
  text-transform:uppercase;letter-spacing:.5px;
}
.prog-toggle:hover{background:var(--bg-hover);color:var(--tx-2)}

/* ================================================================
   RESPONSIVE
   ================================================================ */
@media(max-width:1200px){
  .pulse-strip{grid-template-columns:repeat(3,1fr)}
  .accum-cards{grid-template-columns:repeat(3,1fr)}
}
@media(max-width:1024px){
  .ib-cols{grid-template-columns:1fr}
  .ib-col:not(:last-child){border-right:none;border-bottom:1px solid var(--b-light)}
  .report-container{padding:28px 24px 32px}
  .accum-cards{grid-template-columns:repeat(2,1fr)}
}
@media(max-width:768px){
  .content{padding:0 18px}
  .header{padding:0 18px}
  .foreign-grid{grid-template-columns:1fr}
  .foreign-list{max-height:320px}
  .pulse-strip{grid-template-columns:1fr}
  .idx-hero__val{font-size:1.5rem}
  .header__nav{gap:0}
  .nav-link{padding:6px 10px;font-size:.76rem}
  .report-container{padding:24px 18px 28px;border-radius:var(--r-md)}
  .article-title{font-size:1.4rem}
  .guide-inner{padding:14px 16px}
  .guide-text{font-size:12.5px}
  .accum-cards{grid-template-columns:1fr}
  .stealth-zone{padding:18px}
  .accum-tbl th,.accum-tbl td{padding:10px 8px}
  .prog-tbl th,.prog-tbl td{padding:10px 12px}
}
@media(max-width:480px){.header__nav{display:none}.header{height:52px}
  .accum-card__score{font-size:1.3rem}
  .pulse-strip{gap:10px}
  .idx-hero{padding:14px 18px 12px}
  .idx-hero__val{font-size:1.3rem}
}
